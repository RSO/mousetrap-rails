<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>

    <script type="text/javascript" src="javascripts/modernizr.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $('#main_content').headsmart()
      })
    </script>
    <title>Mousetrap-rails by kugaevsky</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/kugaevsky/mousetrap-rails">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>Mousetrap-rails</h1>
            <h2>Rails gem for handling keyboard shortcuts via mousetrap javascript library</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <section id="downloads">
        <span class="inner">
          <a href="https://github.com/kugaevsky/mousetrap-rails/zipball/master" class="zip"><em>download</em> .ZIP</a><a href="https://github.com/kugaevsky/mousetrap-rails/tarball/master" class="tgz"><em>download</em> .TGZ</a>
        </span>
      </section>


      <span class="banner-fix"></span>


      <section id="main_content">
        <h1>Mousetrap::Rails <a href="http://coderwall.com/kugaevsky"><img src="http://api.coderwall.com/kugaevsky/endorsecount.png" alt="endorse"></a>
</h1>

<p><a href="http://travis-ci.org/kugaevsky/mousetrap-rails"><img src="https://secure.travis-ci.org/kugaevsky/mousetrap-rails.png" alt="Build Status"></a> <a href="https://gemnasium.com/kugaevsky/mousetrap-rails"><img src="https://gemnasium.com/kugaevsky/mousetrap-rails.png" alt="Dependency Status"></a> <a href="https://codeclimate.com/github/kugaevsky/mousetrap-rails"><img src="https://codeclimate.com/badge.png" alt="Code Climate"></a></p>

<p><a href="https://github.com/ccampbell/mousetrap">Mousetrap</a> is a javascript library for handling keyboard shortcuts in your web applications written by <a href="http://craig.is/">Craig Campbell</a>.</p>

<p>The <code>mousetrap-rails</code> gem integrates Mousetrap javascript library with Rails Asset Pipeline.</p>

<h2>Installation</h2>

<h3>Add mousetrap-rails gem to app</h3>

<p>Add this line to your application's Gemfile:</p>

<pre><code>gem 'mousetrap-rails'
</code></pre>

<p>And then execute:</p>

<pre><code>$ bundle install
</code></pre>

<h3>Run generator</h3>

<pre><code>$ rails generate mousetrap:install
</code></pre>

<p>It will create sample <code>keybindings.js.coffee</code> file in <code>app/assets/javascripts</code> and insert mousetrap-rails files to manifests of assert pipeline</p>

<pre><code>//= require mousetrap     # ---&gt; application.js
*= require mousetrap      # ---&gt; application.css
</code></pre>

<p>Voila!</p>

<h3>Latest (may be unstable) version</h3>

<p>Instead of <code>gem 'mousetrap-rails'</code> add to your Gemfile</p>

<pre><code>gem 'mousetrap-rails', git: 'git://github.com/kugaevsky/mousetrap-rails.git'
</code></pre>

<h2>Usage</h2>

<h3>Via data-attributes</h3>

<p>You can add keyboard navigation to your links by using <code>data-keybinding</code> attribute.</p>

<div class="highlight"><pre><span class="p">=</span> <span class="n">link_to</span> <span class="s1">'Homepage'</span><span class="p">,</span> <span class="n">root_path</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="p">{</span> <span class="n">keybinding</span><span class="p">:</span> <span class="s1">'h'</span> <span class="p">}</span>          <span class="c1"># Press 'h' to navigate to homepage</span>
<span class="p">=</span> <span class="n">link_to</span> <span class="s1">'About'</span><span class="p">,</span> <span class="n">about_path</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="p">{</span> <span class="n">keybinding</span><span class="p">:</span> <span class="s1">'["a", "c"]'</span> <span class="p">}</span>   <span class="c1"># Press 'a' or 'c' to navigate to about</span>
</pre></div>

<p>You can jump to input</p>

<div class="highlight"><pre><span class="p">=</span> <span class="n">text_field_tag</span> <span class="s1">'Username'</span><span class="p">,</span> <span class="kp">nil</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="p">{</span> <span class="n">keybinding</span><span class="p">:</span> <span class="s1">'u'</span> <span class="p">}</span>     <span class="c1"># Press 'u' to focus username input field</span>
</pre></div>

<h3>Via javascript</h3>

<p>Any javascript function can be called with mousetrap</p>

<div class="highlight"><pre><span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span> <span class="s">'f'</span><span class="p">,</span> <span class="nf">(e) -&gt;</span> <span class="nx">alert</span> <span class="s">'My perfect function called'</span>   <span class="c1"># Press 'f' to popup alert</span>
</pre></div>

<h3>More examples (from official guide)</h3>

<div class="highlight"><pre><span class="c1"># single keys</span>
<span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span> <span class="s">'4'</span><span class="p">,</span> <span class="o">-&gt;</span> <span class="nx">alert</span> <span class="s">'4 pressed!'</span>
<span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span> <span class="s">'x'</span><span class="p">,</span> <span class="p">(</span><span class="o">-&gt;</span> <span class="nx">alert</span> <span class="s">'x pressed!'</span><span class="p">),</span> <span class="s">'keyup'</span>

<span class="c1"># combinations</span>
<span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span> <span class="s">'command+shift+k'</span><span class="p">,</span> <span class="o">-&gt;</span>
  <span class="nx">alert</span> <span class="s">'command+shift+k pressed!'</span>
  <span class="kc">false</span>

<span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span> <span class="p">[</span><span class="s">'command+k'</span><span class="p">,</span> <span class="s">'ctrl+k'</span><span class="p">],</span> <span class="o">-&gt;</span>
  <span class="nx">alert</span> <span class="s">'command+k or ctrl+k pressed!'</span>
  <span class="kc">false</span>

<span class="c1"># gmail style sequences</span>
<span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span> <span class="s">'g i'</span><span class="p">,</span> <span class="o">-&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="s">'g i sequence pressed!'</span>
<span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span> <span class="s">'* a'</span><span class="p">,</span> <span class="o">-&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="s">'* a sequence pressed!'</span>

<span class="c1"># konami code!</span>
<span class="nx">Mousetrap</span><span class="p">.</span><span class="nx">bind</span> <span class="s">'up up down down left right left right b a enter'</span><span class="p">,</span> <span class="o">-&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="s">'You WIN!'</span>
</pre></div>

<p>You can find full documentation on <a href="http://craig.is/killing/mice">Mousetrap library page</a>. Really, look there â€“ there are plenty examples of using this awesome library.</p>

<h3>Key binding hints (experimental)</h3>

<p>You can display key binding hints near links with <code>data-keybinding</code> attribute by pressing <code>Alt+Shift+h</code>. Now it's just experimental feature for debugging purposes only.</p>

<h2>Changelog</h2>

<p>All changes could be found in <a href="https://github.com/kugaevsky/mousetrap-rails/blob/master/CHANGELOG.md">CHANGELOG.md</a></p>

<h2>License</h2>

<p>Gosh! It's <a href="https://github.com/kugaevsky/mousetrap-rails/blob/master/LICENSE.md">here</a>.</p>

<h2>Authors</h2>

<ul>
<li>mousetrap-rails gem by <a href="http://kugaevsky.ru">Nick Kugaevsky</a>
</li>
<li>original mousetrap library by <a href="http://craig.is/">Craig Campbell</a>
</li>
</ul>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/kugaevsky">kugaevsky</a> can be found on <a href="https://github.com/kugaevsky/mousetrap-rails">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-2540348-19");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
