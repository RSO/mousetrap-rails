{"name":"Mousetrap-rails","tagline":"Rails gem for handling keyboard shortcuts via mousetrap javascript library","body":"# Mousetrap::Rails [![endorse](http://api.coderwall.com/kugaevsky/endorsecount.png)](http://coderwall.com/kugaevsky)\r\n\r\n[![Flattr this](http://api.flattr.com/button/flattr-badge-large.png)](http://flattr.com/thing/1233054/Mousetrap-rails-gem)  [![Dependency Status](https://gemnasium.com/kugaevsky/mousetrap-rails.png)](https://gemnasium.com/kugaevsky/mousetrap-rails) [![Code Climate](https://codeclimate.com/github/kugaevsky/mousetrap-rails.png)](https://codeclimate.com/github/kugaevsky/mousetrap-rails) [![Build Status](https://travis-ci.org/kugaevsky/mousetrap-rails.png?branch=master)](https://travis-ci.org/kugaevsky/mousetrap-rails) [![Coverage Status](https://coveralls.io/repos/kugaevsky/mousetrap-rails/badge.png?branch=master)](https://coveralls.io/r/kugaevsky/mousetrap-rails)\r\n\r\n[Mousetrap](https://github.com/ccampbell/mousetrap) is a javascript library for handling keyboard shortcuts in your web applications written by [Craig Campbell](http://craig.is/).\r\n\r\nThe `mousetrap-rails` gem integrates Mousetrap javascript library with Rails asset pipeline.\r\n\r\n## Installation\r\n\r\n### Add mousetrap-rails gem to app\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n```ruby\r\ngem 'mousetrap-rails'\r\n```\r\n\r\nAnd then execute:\r\n\r\n```bash\r\n$ bundle install\r\n```\r\n\r\n### Run generator\r\n\r\n```bash\r\n$ rails generate mousetrap:install\r\n```\r\n\r\nIt will create a sample `keybindings.js.coffee` file in `app/assets/javascripts` and insert mousetrap-rails files to manifests of asset pipeline\r\n\r\n```coffeescript\r\n//= require mousetrap     # ---> application.js\r\n*= require mousetrap      # ---> application.css\r\n```\r\n\r\nVoila!\r\n\r\nAlso you can use mousetrap plugins. Require them in your `application.js` file\r\n\r\n```javascript\r\n//= require mousetrap/plugins       # To require all plugins\r\n//= require mousetrap/dictionary    # To require dictionary plugin\r\n//= require mousetrap/global        # To require global plugin\r\n//= require mousetrap/pause         # To require pause plugin\r\n//= require mousetrap/record        # To require record plugin\r\n```\r\n\r\nSee plugin descriptions below.\r\n\r\n### Latest (may be unstable) version\r\n\r\nInstead of `gem 'mousetrap-rails'` add to your Gemfile\r\n\r\n```ruby\r\ngem 'mousetrap-rails', github: 'kugaevsky/mousetrap-rails'\r\n```\r\n\r\n`Mousetrap-rails` versioning use `mousetrap.js` library version number.\r\n\r\n## Usage\r\n\r\n### Via data-attributes\r\n\r\nYou can add keyboard navigation to your links by using `data-keybinding` attribute.\r\n\r\n```haml\r\n= link_to 'Homepage', root_path, data: { keybinding: 'h' }          # Press 'h' to navigate to homepage\r\n= link_to 'About', about_path, data: { keybinding: '[\"a\", \"c\"]' }   # Press 'a' or 'c' to navigate to about\r\n```\r\n\r\nYou can jump to an input\r\n\r\n```haml\r\n= text_field_tag 'Username', nil, data: { keybinding: 'u' }         # Press 'u' to focus username input field\r\n```\r\n\r\n### Via javascript\r\n\r\nAny javascript function can be called with mousetrap\r\n\r\n```coffeescript\r\nMousetrap.bind 'f', (e) -> alert 'My perfect function called'       # Press 'f' to popup alert\r\n```\r\n\r\n### More examples (from official guide)\r\n\r\n```coffeescript\r\n# single keys\r\nMousetrap.bind '4', -> alert '4 pressed!'\r\nMousetrap.bind 'x', (-> alert 'x pressed!'), 'keyup'\r\n\r\n# combinations\r\nMousetrap.bind 'command+shift+k', ->\r\n  alert 'command+shift+k pressed!'\r\n  false\r\n\r\nMousetrap.bind ['command+k', 'ctrl+k'], ->\r\n  alert 'command+k or ctrl+k pressed!'\r\n  false\r\n\r\n# gmail style sequences\r\nMousetrap.bind 'g i', -> console.log 'g i sequence pressed!'\r\nMousetrap.bind '* a', -> console.log '* a sequence pressed!'\r\n\r\n# konami code!\r\nMousetrap.bind 'up up down down left right left right b a enter', -> console.log 'You WIN!'\r\n```\r\n\r\nYou can find full documentation on [Mousetrap library page](http://craig.is/killing/mice). Really, look there â€“ there are plenty examples of using this awesome library.\r\n\r\n### Key binding hints (experimental)\r\n\r\nYou can display key binding hints near links with `data-keybinding` attribute by pressing `Alt+Shift+h`. Now it's just experimental feature for debugging purposes only.\r\n\r\n## Plugins\r\n\r\n### Global Bindings\r\n\r\n    //= require mousetrap/global        # ---> application.js\r\n\r\nThis extension allows you to specify keyboard events that will work anywhere including inside textarea/input fields.\r\n\r\n```coffeescript\r\nMousetrap.bindGlobal 'ctrl+s', -> _save()\r\n```\r\n\r\nThis means that a keyboard event bound using `Mousetrap.bind` will only work outside of form input fields, but using `Moustrap.bindGlobal` will work in both places.\r\n\r\n\r\n### Bind dictionary\r\n\r\n    //= require mousetrap/dictionary        # ---> application.js\r\n\r\nThis extension overwrites the default bind behavior and allows you to bind multiple combinations in a single bind call.\r\n\r\nUsage looks like:\r\n\r\n```coffeescript\r\nMousetrap.bind\r\n    'a': -> console.log('a')\r\n    'b': -> console.log('b')\r\n```\r\n\r\nYou can optionally pass in `keypress`, `keydown` or `keyup` as a second argument.\r\n\r\nOther bind calls work the same way as they do by default.\r\n\r\n\r\n### Pause/unpause\r\n\r\n    //= require mousetrap/pause             # ---> application.js\r\n\r\nThis extension allows Mousetrap to be paused and unpaused without having to reset keyboard shortcuts and rebind them.\r\n\r\n```coffeescript\r\n# stop Mousetrap events from firing\r\nMousetrap.pause()\r\n\r\n# allow Mousetrap events to fire again\r\nMousetrap.unpause()\r\n```\r\n\r\n\r\n### Record\r\n\r\n    //= require mousetrap/record              # ---> application.js\r\n\r\nThis extension lets you use Mousetrap to record keyboard sequences and play them back:\r\n\r\n```slim\r\nbutton onclick=\"recordSequence()\" Record\r\n```\r\n\r\n```coffeescript\r\nrecordSequence = () ->\r\n  Mousetrap.record (sequence) ->\r\n    # sequence is an array like ['ctrl+k', 'c']\r\n    alert('You pressed: ' + sequence.join(' '))\r\n````\r\n\r\n[More detailed plugins description](http://craig.is/killing/mice#extensions)\r\n\r\n## Contributing\r\n\r\nPlease submit all pull requests against latest `*.wip` branch. If your pull request contains new features, you **must** include relevant tests.\r\n\r\nYou can easily update mousetrap.js library via rake tasks.\r\n\r\n```bash\r\n$ rake mousetrap:update          # Update main mousetrap javascript lib and its plugins\r\n$ rake mousetrap:update:main     # Update main mousetrap javascript lib\r\n$ rake mousetrap:update:plugins  # Update mousetrap javascript lib plugins\r\n```\r\n\r\nThanks in advance!\r\n\r\n\r\n## Changelog\r\n\r\nAll changes could be found in [CHANGELOG.md](https://github.com/kugaevsky/mousetrap-rails/blob/master/CHANGELOG.md)\r\n\r\n\r\n## License\r\n\r\nGosh! It's [here](https://github.com/kugaevsky/mousetrap-rails/blob/master/LICENSE.md).\r\n\r\n\r\n## Authors\r\n\r\n* mousetrap-rails gem by [Nick Kugaevsky](http://kugaevsky.ru) and [contributors](https://github.com/kugaevsky/mousetrap-rails/graphs/contributors)\r\n* original mousetrap library by [Craig Campbell](http://craig.is/)","google":"UA-2540348-19","note":"Don't delete this file! It's used internally to help with page regeneration."}